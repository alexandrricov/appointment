<link rel="import" href="../components/title.html">

<template id="specialists-tpl">
  <section>
    <component-title back>Select specialist</component-title>
    <ol>
      <li><button type="button" data-id="1"><img src="http://fakeimg.pl/30/">Specialist 1</button></li>
      <li><button type="button" data-id="2"><img src="http://fakeimg.pl/30/">Specialist 2</button></li>
      <li><button type="button" data-id="3"><img src="http://fakeimg.pl/30/">Specialist 3</button></li>
    </ol>
  </section>
</template>

<script>
  class Specialists extends HTMLElement {
    constructor() {
      super();

      const ownerDocument = (document._currentScript || document.currentScript).ownerDocument;
      const shadowRoot = this.attachShadow({mode: 'closed'});
      shadowRoot.appendChild(document.importNode(ownerDocument.querySelector('#specialists-tpl').content, true));

      const title = shadowRoot.querySelector('component-title');
      title.goBack = () => this.goBack();

      const addressButtons = shadowRoot.querySelectorAll('ol button');
      for (const addressButton of addressButtons) {
        addressButton.addEventListener('click', (e) => this.goForward(e.target.dataset.id));
      }
    }
  }

  customElements.define('appointment-specialists', Specialists);
//    document.registerElement('appointment-specialists', Specialists);
</script>
